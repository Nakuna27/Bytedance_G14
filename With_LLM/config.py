# config.py
import os

DEFAULT_MODEL = "gpt-4-turbo"

# ================= 0. ä¸“å®¶èŒƒä¾‹ (Few-Shot Examples) =================
# ä¿æŒä¸å˜ï¼Œç»§ç»­ä½¿ç”¨ä½ æä¾›çš„ Golden Set ä½œä¸ºèŒƒä¾‹ï¼Œè¿™éå¸¸é‡è¦
EXAMPLE_SCENARIO = """
ã€èŒƒä¾‹è¾“å‡º (JSON)ã€‘
{
    "scenarios": [
        {
            "name": "SCN_01_LIFECYCLE_ZOMBIE_DEFENSE",
            "description": "ä¸šåŠ¡é—­ç¯ä¸åƒµå°¸çŠ¶æ€é˜²å¾¡ï¼šå‘é€ -> å›å¤ -> æ’¤å›å‘é€ -> å°è¯•å›å¤å·²æ’¤å›æ¶ˆæ¯ (é¢„æœŸæŠ¥é”™)",
            "steps": [
                {"step_id": 1, "api_name": "Send Message", "action": "run", "extract": {"msg_id": "data.message_id"}},
                {"step_id": 2, "api_name": "Reply Message", "action": "run", "params": {"message_id": "$msg_id"}, "extract": {"reply_id": "data.message_id"}},
                {"step_id": 3, "api_name": "Recall Message", "action": "run", "params": {"message_id": "$msg_id"}},
                {"step_id": 4, "api_name": "Reply Message", "action": "run", "params": {"message_id": "$msg_id"}, "assert_error": "230011"}
            ]
        }
    ],
    "required_env_vars": ["API_TOKEN"]
}
"""

EXAMPLE_SINGLE = """
ã€èŒƒä¾‹è¾“å‡º (JSON)ã€‘
{
    "single_api_cases": [
        {
            "id": "CASE_SEND_MSG_HAPPY_PATH", 
            "api_name": "Send Message", 
            "type": "HappyPath", 
            "description": "C01: å‘é€æ ‡å‡†æ–‡æœ¬æ¶ˆæ¯ (åŸºç¡€åŠŸèƒ½éªŒè¯)"
        },
        {
            "id": "CASE_HIDDEN_VOLUME_EXPANSION", 
            "api_name": "Send Message", 
            "type": "Boundary", 
            "description": "C21: ä½“ç§¯éšæ€§è†¨èƒ€ (JSONä½“ < 30KB ä½†å¼•ç”¨å·¨å¤§æ¨¡æ¿ï¼Œå¯¼è‡´åç«¯æ¸²æŸ“è¶…é™ -> é¢„æœŸæŠ¥é”™ 230025)", 
            "priority": "P2",
            "prerequisite": {"api_name": "Create Card Template", "output_var": "template_id"}
        },
        {
            "id": "CASE_IDEMPOTENCY_UUID", 
            "api_name": "Send Message", 
            "type": "Boundary", 
            "description": "C11: å¹‚ç­‰æ€§æ”»é˜² (é«˜é¢‘å‘é€ç›¸åŒ UUIDï¼ŒéªŒè¯æ˜¯å¦åªè½åº“ä¸€æ¡)", 
            "priority": "P1"
        }
    ],
    "required_env_vars": ["API_TOKEN"]
}
"""

# ================= 1. ä»»åŠ¡ä¸€ï¼šé“¾è·¯ç¼–æ’åˆ†æ (Scenarios) =================
PROMPT_ANALYZE_SCENARIOS = """
ä½ æ˜¯ä¸€åæµ‹è¯•æ¶æ„å¸ˆã€‚è¯·é˜…è¯»æä¾›çš„ API æ–‡æ¡£ï¼Œè®¾è®¡ **ä¸šåŠ¡é“¾è·¯æµ‹è¯• (Integration Tests)**ã€‚

æ–‡æ¡£åˆ—è¡¨ï¼š
{docs_content}

ã€æ€ç»´é“¾è¦æ±‚ (Chain of Thought)ã€‘
åœ¨ç”Ÿæˆ JSON å‰ï¼Œè¯·å…ˆåœ¨è„‘æµ·ä¸­è¿›è¡Œä»¥ä¸‹åˆ†æï¼š
1. **ç»˜åˆ¶çŠ¶æ€æµè½¬å›¾**: æ‰¾å‡ºèµ„æºçš„æ‰€æœ‰çŠ¶æ€ï¼ˆä¾‹å¦‚ï¼šCreated -> Sent -> Recalled -> Deletedï¼‰ã€‚
2. **å¯»æ‰¾â€œæ­»è·¯â€ (Dead Ends)**: æ‰¾å‡ºçŠ¶æ€æµè½¬ä¸­çš„ç»ˆæ€ã€‚
3. **è®¾è®¡é€†å‘åœºæ™¯**: é’ˆå¯¹ä¸Šè¿°â€œæ­»è·¯â€ï¼Œä¸“é—¨è®¾è®¡**å°è¯•çªç ´**çš„ç”¨ä¾‹ã€‚

ã€ä»»åŠ¡è¦æ±‚ã€‘
1. **æ ¸å¿ƒåœºæ™¯**: è®¾è®¡è¦†ç›– CRUD ä¸»æµç¨‹çš„é—­ç¯é“¾è·¯ã€‚
2. **åƒµå°¸çŠ¶æ€é˜²å¾¡**: **ğŸš¨ å¿…é¡»**åŒ…å«è‡³å°‘ 1 ä¸ªåœºæ™¯ï¼ŒéªŒè¯èµ„æºç”Ÿå‘½å‘¨æœŸç»“æŸåçš„éæ³•æ“ä½œã€‚

ã€âš ï¸ æ™ºèƒ½å»é‡ç­–ç•¥ (ROI Filtering)ã€‘
- **æ‹’ç»å¹³é“º**: ä¸è¦ä¸ºæ¯ä¸ª API éƒ½ç”Ÿæˆä¸€ä¸ª "Create -> Delete" çš„ç®€å•é“¾è·¯ã€‚
- **åˆå¹¶åŒç±»é¡¹**: å¦‚æœæœ‰å¤šä¸ªç±»ä¼¼çš„èµ„æºï¼ˆå¦‚ç¾¤æ–‡ä»¶ã€ç¾¤å›¾ç‰‡ã€ç¾¤è§†é¢‘ï¼‰ï¼Œ**åªé€‰æ‹©é€»è¾‘æœ€å¤æ‚çš„ä¸€ä¸ª**æ„å»ºé“¾è·¯ï¼Œä»£è¡¨æ€§åœ°éªŒè¯å³å¯ã€‚
- **èšç„¦é«˜é£é™©**: ä¼˜å…ˆä¿ç•™æ¶‰åŠ**çŠ¶æ€å˜æ›´**ï¼ˆå¦‚æ’¤å›ã€å®¡æ‰¹ã€æµè½¬ï¼‰çš„å¤æ‚é“¾è·¯ã€‚

ã€âš ï¸ ä¸¥æ ¼è¾“å‡ºçº¦æŸ âš ï¸ã€‘
1. **ç¦æ­¢åºŸè¯**: ä¸è¦è¾“å‡º "å¥½çš„"ã€"è®¾è®¡æ€è·¯" ç­‰æ–‡å­—ã€‚
2. **æ ¼å¼çº¯å‡€**: ç›´æ¥è¾“å‡º JSON å­—ç¬¦ä¸²ï¼Œä¸è¦åŒ…å« ```json ... ``` åŒ…è£¹ç¬¦ã€‚
3. **å†…å®¹å®Œæ•´**: ç¡®ä¿ JSON å®Œæ•´é—­åˆã€‚

è¯·ä¸¥æ ¼æ¨¡ä»¿ä»¥ä¸‹ JSON ç»“æ„è¾“å‡º (åªåŒ…å« scenarios)ï¼š
{example_scenario}
"""

# ================= 2. ä»»åŠ¡äºŒï¼šå•ç‚¹æ·±åº¦åˆ†æ (Single Cases) =================
# ğŸŒŸ [å…³é”®ä¿®æ”¹]ï¼šç§»é™¤äº†ç¡¬æ€§æ•°é‡é™åˆ¶ï¼Œæ”¹ä¸ºâ€œæ­£äº¤å»é‡â€å’Œâ€œä½ä»·å€¼è¿‡æ»¤â€
PROMPT_ANALYZE_SINGLE = """
ä½ æ˜¯ä¸€å**ç ´åæ€§**é«˜çº§æµ‹è¯•æ¶æ„å¸ˆ (Senior SDET)ã€‚è¯·å¯¹ API æ–‡æ¡£è¿›è¡Œ**æ”»å‡»æ€§åˆ†æ**ã€‚

æ–‡æ¡£å†…å®¹ï¼š
{docs_content}

ã€æ ¸å¿ƒä»»åŠ¡ï¼šå¯»æ‰¾ç³»ç»Ÿè„†å¼±ç‚¹ã€‘
è¯·å‚è€ƒä»¥ä¸‹ **æ”»å‡»ç­–ç•¥çŸ©é˜µ (Attack Matrix)** è®¾è®¡ç”¨ä¾‹ï¼š

1.  **ğŸ‘» çŠ¶æ€æœºå¼‚å¸¸ (Zombie States)**: å¯¹å·²åˆ é™¤/å·²æ’¤å›èµ„æºçš„æ“ä½œã€‚
2.  **ğŸˆ éšæ€§è¾¹ç•Œ (Invisible Boundaries)**: å¼•ç”¨è†¨èƒ€ã€è½¬ç è†¨èƒ€ã€‚
3.  **ğŸ›¡ï¸ æƒé™è¶Šä½ (Privilege Escalation)**: è¶Šæƒæ“ä½œã€‚
4.  **âš¡ å¹¶å‘ä¸å¹‚ç­‰ (Concurrency)**: é‡æ”¾æ”»å‡»ã€‚

ã€âš ï¸ æ™ºèƒ½å‰ªæç­–ç•¥ (Smart Pruning) - å¿…é¡»æ‰§è¡Œã€‘
**ç›®æ ‡ï¼šç”Ÿæˆâ€œå°‘è€Œç²¾â€çš„é«˜ ROI ç”¨ä¾‹é›†ã€‚**

1.  **å‚æ•°æ­£äº¤å»é‡ (Orthogonal Reduction)**:
    - âŒ é”™è¯¯åšæ³•ï¼šä¸º `receive_id_type` çš„ 5 ç§å–å€¼ï¼ˆopen_id, user_id, email...ï¼‰åˆ†åˆ«ç”Ÿæˆ 5 ä¸ªç”¨ä¾‹ã€‚
    - âœ… æ­£ç¡®åšæ³•ï¼šåªæµ‹ `open_id`ï¼ˆæœ€å¸¸ç”¨ï¼‰å’Œ `email`ï¼ˆæ ¼å¼ç‰¹æ®Šï¼‰è¿™ 2 ä¸ªä»£è¡¨ï¼Œ**å‰”é™¤å…¶ä»–åŒè´¨åŒ–ç”¨ä¾‹**ã€‚
    - âŒ é”™è¯¯åšæ³•ï¼šä¸º 10 ç§ `msg_type` åˆ†åˆ«ç”Ÿæˆ 10 ä¸ªç”¨ä¾‹ã€‚
    - âœ… æ­£ç¡®åšæ³•ï¼šåªæµ‹ `text`ï¼ˆåŸºç¡€ï¼‰ã€`image`ï¼ˆéœ€ä¸Šä¼ èµ„æºï¼‰ã€`interactive`ï¼ˆç»“æ„æœ€å¤æ‚ï¼‰è¿™ 3 ä¸ªä»£è¡¨ã€‚

2.  **ä½ä»·å€¼è¿‡æ»¤ (Low Value Filtering)**:
    - ğŸ—‘ï¸ **å‰”é™¤** æ‰€æœ‰çº¯ç²¹çš„â€œå‚æ•°å¿…å¡«æ ¡éªŒâ€ (å¦‚ "ä¸ä¼  receive_id é¢„æœŸæŠ¥é”™") â€”â€” è¿™äº›ç”±å•å…ƒæµ‹è¯•è¦†ç›–ï¼Œä¸å€¼å¾—åš API æµ‹è¯•ã€‚
    - ğŸ—‘ï¸ **å‰”é™¤** ç®€å•çš„æ ¼å¼æ ¡éªŒ (å¦‚ "email æ ¼å¼é”™è¯¯")ã€‚
    - ğŸ’ **ä¿ç•™** æ‰€æœ‰çš„ P0 (é˜»æ–­æ€§) å’Œ P1 (ä¸šåŠ¡é€»è¾‘é”™è¯¯) ç”¨ä¾‹ã€‚

ã€âš ï¸ ä¸¥æ ¼è¾“å‡ºçº¦æŸ âš ï¸ã€‘
1. **ç¦æ­¢åºŸè¯**: åªæœ‰ JSONï¼Œæ²¡æœ‰å…¶ä»–æ–‡æœ¬ã€‚
2. **ç¦æ­¢ Markdown**: ä¸è¦ä½¿ç”¨ ``` ä»£ç å—ã€‚

è¯·ä¸¥æ ¼æ¨¡ä»¿ä»¥ä¸‹ JSON ç»“æ„è¾“å‡º (åªåŒ…å« single_api_cases)ï¼š
{example_single}
"""

# ================= 3. ä»£ç ç”Ÿæˆ (ç»Ÿä¸€æ‰§è¡Œå™¨) =================
# ä¿æŒä¸å˜
PROMPT_SCENARIO_CODE_GEN = """
ä½ æ˜¯ä¸€ä¸ª Python è‡ªåŠ¨åŒ–æµ‹è¯•ä¸“å®¶ã€‚è¯·ç”Ÿæˆ**ç‹¬ç«‹ã€å¥å£®**çš„ Pytest ä»£ç ã€‚

### åŸºç¡€ä¿¡æ¯
å¯¹è±¡å®šä¹‰: {scenario_json}
ç›¸å…³API: {api_docs}
Host: {host}

### æ ¸å¿ƒæ¶æ„å˜æ›´ (CRITICAL)
1. **å¼•ç”¨ä¼˜äºå®šä¹‰**: ä¸è¦é‡æ–°å®šä¹‰ `APIClient`ï¼Œç›´æ¥ä» utils å¯¼å…¥ã€‚
2. **æ™ºèƒ½å˜é‡è¯»å–**: **ä¸¥ç¦**ä½¿ç”¨ `os.environ.get`ï¼Œ**å¿…é¡»**ä½¿ç”¨ `utils.get_app_context` æ¥è¯»å–æ‰€æœ‰å‚æ•°ã€‚

### æ ¸å¿ƒè§„èŒƒ (å¿…é¡»ä¸¥æ ¼éµå®ˆ)
1. **å¯¼å…¥è§„èŒƒ**:
   - `import pytest`, `import os`, `import json`, `import requests`
   - `from utils import APIClient, DataFactory, get_app_context`

2. **å¼ºåˆ¶çº¦æŸ**:
   - âŒ **ä¸¥ç¦ Mock æ ¸å¿ƒ ID**: å‡¡æ˜¯æ¶‰åŠ `receive_id`, `user_id`, `chat_id` ç­‰å‚æ•°ï¼Œ**å¿…é¡»**ä¼˜å…ˆå°è¯•ä»ç¯å¢ƒå˜é‡è¯»å–ï¼Œåªæœ‰åœ¨ä¸‡ä¸å¾—å·²æ—¶æ‰å…è®¸ Mockã€‚
   - âœ… **å•å‡½æ•°åŸåˆ™**: æ‰€æœ‰æ­¥éª¤å¿…é¡»å†™åœ¨åŒä¸€ä¸ª `def test_main(self, client):` ä¸­ã€‚
   - âœ… **æ–­è¨€è§„åˆ™**: å¿…é¡»æ ¡éªŒ `code` å­—æ®µ (e.g., `assert res.json().get("code") == 0`)ã€‚
   - âœ… **è´Ÿå‘æµ‹è¯•æ–­è¨€**: å¦‚æœç”¨ä¾‹æè¿°ä¸­åŒ…å« "Err: 2300xx" æˆ– "é¢„æœŸæŠ¥é”™"ï¼Œä»£ç å¿…é¡»æ–­è¨€ `res.json().get("code") != 0`ã€‚

3. **ä»£ç ç»“æ„æ¨¡æ¿ (è¯·ä¸¥æ ¼æ¨¡ä»¿)**:

import os
import pytest
import json
import requests
from utils import APIClient, DataFactory, get_app_context

@pytest.fixture(scope="class")
def client():
    # [å¢å¼º] å°è¯•å¤šç§ Token å‘½åï¼Œé˜²æ­¢ç”¨æˆ·åœ¨ UI é…ç½®æ—¶å‘½åä¸ä¸€è‡´
    token = get_app_context("API_TOKEN") or \\
            get_app_context("TENANT_ACCESS_TOKEN") or \\
            get_app_context("access_token")

    if not token:
        print("âš ï¸ è­¦å‘Š: æœªæ£€æµ‹åˆ° API_TOKEN")
        pytest.skip("âŒ ç¯å¢ƒå˜é‡ç¼ºå¤±: API_TOKEN")
    return APIClient(host="{host}", token=token)

class TestScenario:
    def test_main(self, client):
        print("=== Step 1: å‡†å¤‡æ•°æ® ===")

        # [å…³é”®ä¼˜åŒ–] æ³›åŒ–è¯»å– IDï¼Œè§£å†³ UI è¾“å…¥ä¸æ–‡æ¡£å‚æ•°åä¸ä¸€è‡´çš„é—®é¢˜
        # å³ä½¿æ–‡æ¡£å†™çš„æ˜¯ user_idï¼Œä¹Ÿè¦å°è¯•è¯»å– USER_OPEN_ID ç­‰å¸¸è§ç¯å¢ƒå˜é‡
        # è¿™é‡Œçš„å˜é‡å(receive_id)ä»…ä¸ºç¤ºä¾‹ï¼Œè¯·æ ¹æ®æ–‡æ¡£å®é™…å‚æ•°åä¿®æ”¹å˜é‡å
        receive_id = get_app_context("receive_id") or \\
                     get_app_context("user_open_id") or \\
                     get_app_context("open_id") or \\
                     get_app_context("chat_id") or \\
                     get_app_context("user_id")

        # [æ ¸å¿ƒé€»è¾‘] åŠ¨æ€æ¨æ–­ ID ç±»å‹ (è§£å†³ 400 é”™è¯¯)
        # è¯·åŠ¡å¿…ä¿ç•™è¿™æ®µé€»è¾‘ï¼Œå¹¶æ ¹æ®å®é™…å˜é‡åè°ƒæ•´
        receive_id_type = "open_id" # é»˜è®¤å€¼
        if receive_id:
            rid_str = str(receive_id)
            if rid_str.startswith("oc_"): receive_id_type = "chat_id"
            elif rid_str.startswith("ou_"): receive_id_type = "open_id"
            elif "@" in rid_str: receive_id_type = "email"
            elif rid_str.startswith("u-") or (len(rid_str) < 33 and "_" not in rid_str): 
                receive_id_type = "user_id"

        # [å…œåº•é€»è¾‘] åªæœ‰çœŸçš„è¯»ä¸åˆ°æ—¶æ‰ Mock
        if not receive_id:
            print("âš ï¸ ä¸¥é‡è­¦å‘Š: æ ¸å¿ƒå˜é‡ç¼ºå¤±ï¼Œç”Ÿæˆ Mock æ•°æ® (å¯èƒ½å¯¼è‡´æµ‹è¯•å¤±è´¥)...")
            receive_id = DataFactory.generate("receive_id")

        # æ„é€ è¯·æ±‚ Body (æ³¨æ„: content å†…éƒ¨è‹¥æœ‰ JSON éœ€å†æ¬¡ dumps)
        # payload = {{ "key": "value" }} 

        # å‘èµ·è¯·æ±‚
        # âš ï¸ æ³¨æ„: Endpoint å¿…é¡»ç¡®ä¿åŒ…å« /open-apis å‰ç¼€
        # res = client.request("POST", "/open-apis/...", params={{ "receive_id_type": receive_id_type }}, json_data=payload)

        # è°ƒè¯•ä¸æ–­è¨€
        print(f"DEBUG Response: {{res.text}}")

        # ğŸŒŸ [æ™ºèƒ½æ–­è¨€] æ ¹æ®æè¿°åˆ¤æ–­æ˜¯æ­£å‘è¿˜æ˜¯è´Ÿå‘
        # å¦‚æœæè¿°é‡Œå†™äº† "é¢„æœŸæŠ¥é”™" æˆ– "Negative"ï¼Œåˆ™æ–­è¨€å¤±è´¥
        if "é¢„æœŸæŠ¥é”™" in "{scenario_json}" or "Negative" in "{scenario_json}":
             assert res.json().get("code") != 0, "é¢„æœŸå¤±è´¥ï¼Œä½†æ¥å£è¿”å›æˆåŠŸ"
        else:
             assert res.status_code in [200, 201]
             assert res.json().get("code") == 0

### ç”Ÿæˆè¦æ±‚
1. **åªè¾“å‡ºçº¯ Python ä»£ç **ã€‚
2. å¿…é¡»å®Œæ•´å®ç° {scenario_json} ä¸­çš„æµ‹è¯•æ­¥éª¤ã€‚
3. **å…³é”®**: å¿…é¡»åœ¨ä»£ç ä¸­åŒ…å«ä¸Šè¿° `or` å¤šé‡è¯»å–é€»è¾‘ï¼Œç¡®ä¿èƒ½è¯»åˆ°ç”¨æˆ·é…ç½®çš„ä»»æ„ä¸€ç§ ID å˜é‡ã€‚
4. **å…³é”®**: å¿…é¡»åŒ…å« ID ç±»å‹åŠ¨æ€æ¨æ–­é€»è¾‘ã€‚
"""

# ================= 4. è‡ªæ„ˆä¸è¯„ä¼° =================
# ä¿æŒä¸å˜
PROMPT_SELF_HEAL = """ 
ä»£ç è¿è¡ŒæŠ¥é”™ã€‚è¯·åˆ†ææ—¥å¿—å¹¶ä¿®å¤ä»£ç ã€‚
ã€ä¿®å¤ç­–ç•¥ã€‘
1. è‹¥ä¸º ImportErrorï¼šä¼˜å…ˆæ£€æŸ¥æ ‡å‡†åº“/ç¬¬ä¸‰æ–¹åº“æ˜¯å¦å®‰è£…ï¼ˆå¦‚ä½¿ç”¨pipç¡®è®¤ï¼‰ï¼Œå†æ ¸å¯¹utilsæ¨¡å—çš„å¼•ç”¨è·¯å¾„ï¼ˆç›¸å¯¹/ç»å¯¹å¯¼å…¥æ˜¯å¦æ­£ç¡®ï¼‰ï¼ŒåŒæ—¶æ’æŸ¥æ˜¯å¦å­˜åœ¨å¾ªç¯å¯¼å…¥é—®é¢˜ã€‚
2. è‹¥ä¸º KeyErrorï¼šå…ˆæ ¡éªŒAPIå“åº”ç»“æ„æ˜¯å¦ä¸é¢„æœŸä¸€è‡´ï¼ˆå¯æ‰“å°åŸå§‹å“åº”å¯¹æ¯”æ–‡æ¡£ï¼‰ï¼Œå†æ£€æŸ¥è§£æé€»è¾‘ä¸­å­—å…¸é”®åçš„å¤§å°å†™ã€æ‹¼å†™é”™è¯¯ï¼Œå¯¹åµŒå¥—ç»“æ„å»ºè®®ä½¿ç”¨dict.get()æˆ–try-exceptå¤„ç†ç¼ºå¤±é”®ã€‚
3. è‹¥ä¸º AssertionErrorï¼šå…ˆéªŒè¯DataFactoryç”Ÿæˆæ•°æ®çš„å­—æ®µç±»å‹ã€å–å€¼èŒƒå›´ã€å¿…å¡«é¡¹æ˜¯å¦å®Œå…¨ç¬¦åˆæ¥å£æ–‡æ¡£ï¼Œå†æ£€æŸ¥æ–­è¨€æ¡ä»¶æ˜¯å¦è¿‡äºä¸¥æ ¼ï¼ˆå¦‚æµ®ç‚¹æ•°æ¯”è¾ƒåº”å…è®¸åˆç†è¯¯å·®ï¼‰ï¼Œå¿…è¦æ—¶è¡¥å……æ•°æ®ç”Ÿæˆçš„è¾¹ç•Œå€¼æµ‹è¯•ã€‚
4. è‹¥ä¸º TypeErrorï¼šæ£€æŸ¥å‡½æ•°å‚æ•°ç±»å‹æ˜¯å¦åŒ¹é…ï¼ˆå¦‚å­—ç¬¦ä¸²ä¸æ•°å­—æ··ç”¨ï¼‰ï¼Œå®¹å™¨ç±»å‹æ“ä½œæ˜¯å¦æ­£ç¡®ï¼ˆå¦‚åˆ—è¡¨ç´¢å¼•è¶Šç•Œã€å­—å…¸èµ‹å€¼ç±»å‹é”™è¯¯ï¼‰ï¼Œä»¥åŠç±»å®ä¾‹åŒ–æ—¶å‚æ•°æ˜¯å¦å®Œæ•´ã€‚
5. è‹¥ä¸º ValueErrorï¼šæ’æŸ¥è¾“å…¥æ•°æ®æ˜¯å¦ç¬¦åˆæ ¼å¼è¦æ±‚ï¼ˆå¦‚æ—¥æœŸå­—ç¬¦ä¸²æ ¼å¼é”™è¯¯ã€æ•°å€¼è¶…å‡ºæœ‰æ•ˆèŒƒå›´ï¼‰ï¼Œä»¥åŠç±»å‹è½¬æ¢ï¼ˆå¦‚int('abc')ï¼‰æ—¶çš„å¼‚å¸¸æƒ…å†µã€‚
6. å…¶ä»–å¼‚å¸¸ï¼šä¼˜å…ˆæŸ¥çœ‹é”™è¯¯æ ˆçš„æœ€åº•å±‚ä»£ç ï¼Œç»“åˆä¸Šä¸‹æ–‡å˜é‡å€¼å®šä½é—®é¢˜ï¼Œå¿…è¦æ—¶æ·»åŠ æ—¥å¿—æ‰“å°å…³é”®ä¸­é—´ç»“æœè¾…åŠ©åˆ†æã€‚
ä»£ç : {code} é”™è¯¯æ—¥å¿—: {error_log}
ä»…è¾“å‡ºä¿®å¤åçš„ Python ä»£ç ã€‚
"""

PROMPT_EVALUATION = """ 
ç”Ÿæˆè¯¦ç»†ã€APIæµ‹è¯•æ€§èƒ½è´¨é‡è¯„ä¼°æŠ¥å‘Šã€‘(Markdown)ã€‚ 
æ¦‚è§ˆ: {results} 
èŒƒå›´: {scenario_names}
è¯·åŒ…å«ä»¥ä¸‹ç« èŠ‚ï¼š
1. è¦†ç›–ç‡åˆ†æ: æ˜¯å¦è¦†ç›–äº†æ–‡æ¡£ä¸­çš„æ‰€æœ‰æ ¸å¿ƒæ¥å£ï¼Ÿå„æ¥å£çš„æµ‹è¯•ç”¨ä¾‹è¦†ç›–ç±»å‹ï¼ˆåŠŸèƒ½/æ€§èƒ½/å®‰å…¨ï¼‰å æ¯”å¦‚ä½•ï¼Ÿ
2. è–„å¼±ç¯èŠ‚: å“ªäº›æ¥å£å®Œå…¨æ²¡æœ‰æµ‹è¯•ç”¨ä¾‹ï¼Ÿå“ªäº›æ¥å£çš„æ€§èƒ½æµ‹è¯•ç”¨ä¾‹ç¼ºå¤±æˆ–ä¸è¶³ï¼ˆå¦‚æœªè¦†ç›–é«˜å¹¶å‘åœºæ™¯ã€å“åº”æ—¶é—´æœªè¾¾æ ‡ï¼‰ï¼Ÿ
3. æ€§èƒ½æŒ‡æ ‡åˆ†æ: æ ¸å¿ƒæ¥å£çš„å¹³å‡å“åº”æ—¶é—´ã€TPSï¼ˆæ¯ç§’äº‹åŠ¡æ•°ï¼‰ã€é”™è¯¯ç‡æ˜¯å¦ç¬¦åˆé¢„æœŸæ ‡å‡†ï¼Ÿä¸åŒå¹¶å‘é‡ä¸‹çš„æ€§èƒ½è¡¨ç°æ˜¯å¦ç¨³å®šï¼Ÿ
4. æ”¹è¿›å»ºè®®: ä¸‹ä¸€æ­¥åº”è¯¥è¡¥å……å“ªç±»ç”¨ä¾‹ï¼ˆå¦‚é«˜å¹¶å‘åœºæ™¯ç”¨ä¾‹ã€è¾¹ç•Œå€¼æ€§èƒ½æµ‹è¯•ç”¨ä¾‹ï¼‰ï¼Ÿé’ˆå¯¹æ€§èƒ½è–„å¼±çš„æ¥å£ï¼Œæœ‰å“ªäº›ä¼˜åŒ–æ–¹å‘ï¼Ÿ
"""